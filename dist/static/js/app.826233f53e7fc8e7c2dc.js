webpackJsonp([1],{BYAe:function(e,t){},GYqU:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-link",{attrs:{to:{name:"Hello"}}},[this._v("Home")]),this._v(" "),t("router-link",{attrs:{to:"/industriesupload"}},[this._v("Upload Industries")]),this._v(" "),t("router-link",{attrs:{to:"/industriesview"}},[this._v("View All Industries")]),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},i,!1,function(e){n("XGgV")},null,null).exports,r=n("/ocq"),o=n("mvHQ"),c=n.n(o),d=n("fZjL"),u=n.n(d),l=n("oYt9"),m=n("mtWM"),p=n.n(m),h={name:"Hello",data:function(){return{newUser:{name:"",description:""}}},computed:{validation:function(){return{name:!!this.newUser.name.trim(),description:!!this.newUser.description.trim()}},isValid:function(){var e=this.validation;return u()(e).every(function(t){return e[t]})}},methods:{addUser:function(){this.isValid&&(p.a.post("https://drfbackend.herokuapp.com/apps/register",c()(this.newUser),{headers:{}}).then(function(e){a.a.swal("Success!","You have been registered.","success")}).catch(function(e){}),this.newUser.name="",this.newUser.description="")},removeUser:function(e){usersRef.child(e[".key"]).remove()}}},v={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("form",{attrs:{id:"form"},on:{submit:function(t){t.preventDefault(),e.addUser(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.name,expression:"newUser.name"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.newUser.name},on:{input:function(t){t.target.composing||e.$set(e.newUser,"name",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.description,expression:"newUser.description"}],attrs:{type:"text",placeholder:"Description"},domProps:{value:e.newUser.description},on:{input:function(t){t.target.composing||e.$set(e.newUser,"description",t.target.value)}}}),e._v(" "),n("input",{attrs:{type:"submit",value:"Add User"}})]),e._v(" "),n("ul",{staticClass:"errors"},[n("li",{directives:[{name:"show",rawName:"v-show",value:!e.validation.name,expression:"!validation.name"}]},[e._v("Name cannot be empty.")]),e._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:!e.validation.description,expression:"!validation.description"}]},[e._v("Please provide a valid description.")])])])},staticRenderFns:[]};var f=n("VU/8")(h,v,!1,function(e){n("q4GG")},"data-v-0acdf296",null).exports,w=n("lxTf"),_=n.n(w);a.a.use(l.a);var g=!0,U=[],C={name:"Hello",data:function(){return{CSV:""}},methods:{onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&("text/csv"===t[0].type?this.createCSV(t[0]):a.a.swal("Sorry, thats not a valid CSV file"))},createCSV:function(e){var t=this;_.a.parse(e,{download:!0,header:!0,step:function(e,n){n.pause();var i=e.data[0];if("id"in i&&"name"in i){var s=i.id,r=i.name;isNaN(s)||"string"!=typeof r?(a.a.swal("Incorrect Data!","The id column must be number and name column string.","error"),g=!1,n.abort(),t.CSV=""):U.push({id:s,name:r}),n.resume()}else a.a.swal("Incorrect Format!","The header must have id|name.","error"),g=!1,n.abort(),t.CSV=""},complete:function(e,n){g&&(console.log(U),t.CSV=U,t.showDataParseSuccess(U))}})},postData:function(e){p.a.post("https://drfbackend.herokuapp.com/industries/upload",c()(e),{headers:{}}).then(function(e){a.a.swal("Uploaded!","Your file has been uploaded.","success")}).catch(function(e){})},removeCSV:function(e){this.CSV="",g=!0},showDataParseSuccess:function(e){var t=this;a.a.swal({title:"The file passed all checks.",text:"Do you want to upload this file?",type:"success",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, upload it!"}).then(function(n){n.value&&t.postData(e)})}}},V={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[this.CSV?t("div",[t("button",{on:{click:this.removeCSV}},[this._v("Remove CSV file")])]):t("div",[t("h2",[this._v("Select an CSV file")]),this._v(" "),t("input",{attrs:{type:"file"},on:{change:this.onFileChange}})])])},staticRenderFns:[]},D=n("VU/8")(C,V,!1,null,null,null).exports,b={template:"#item-template",props:{model:Object},data:function(){return{open:!1}},computed:{isFolder:function(){return this.model.children&&this.model.children.length}},methods:{toggle:function(){this.isFolder&&(this.open=!this.open)},openIndustryPage:function(e){B.push({name:"Industry",params:{id:e}})},changeType:function(){this.isFolder||(a.a.set(this.model,"children",[]),this.addChild(),this.open=!0)},addChild:function(){this.model.children.push({name:"new stuff"})}}},y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"item-template"}},[n("li",[n("div",{class:{bold:e.isFolder}},[n("span",{on:{click:function(t){e.openIndustryPage(e.model.id)}}},[e._v(e._s((e.model.id||"")+" "+e.model.name))]),e._v(" "),e.isFolder?n("span",{on:{click:e.toggle}},[e._v("["+e._s(e.open?"-":"+")+"]")]):e._e()]),e._v(" "),e.isFolder?n("ul",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}]},e._l(e.model.children,function(e,t){return n("item",{key:t,staticClass:"item",attrs:{model:e}})})):e._e()])])},staticRenderFns:[]};var k=n("VU/8")(b,y,!1,function(e){n("brnh")},"data-v-3d70d0ca",null).exports;a.a.component("Item",k);var S={components:{item:k},data:function(){return{treeData:{name:"industries"}}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;p.a.get("https://drfbackend.herokuapp.com/industries/").then(function(t){e.treeData={},e.treeData.name="industries",e.treeData.children=t.data.industries}).catch(function(e){console.log(e)})}}},x={render:function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{attrs:{id:"demo"}},[t("item",{staticClass:"item",attrs:{model:this.treeData}})],1)},staticRenderFns:[]};var F=n("VU/8")(S,x,!1,function(e){n("BYAe")},"data-v-00a35818",null).exports;a.a.component("Item",k);var I={components:{item:k},data:function(){return{treeData:{name:"industries"}}},watch:{$route:"fetchData"},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;p.a.get("https://drfbackend.herokuapp.com/industries/"+this.$route.params.id+"/").then(function(t){e.treeData={},e.treeData.name="industries",e.treeData.children=t.data.industries}).catch(function(e){console.log(e)})}}},N={render:function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{attrs:{id:"demo"}},[t("item",{staticClass:"item",attrs:{model:this.treeData}})],1)},staticRenderFns:[]};var $=n("VU/8")(I,N,!1,function(e){n("WrBL")},"data-v-5db9382e",null).exports;a.a.use(r.a);var B=new r.a({routes:[{path:"/",name:"HelloWorld",component:f},{path:"/industriesupload",name:"Industriesupload",component:D},{path:"/industriesview",name:"Industriesview",component:F},{path:"/industry/:id",name:"Industry",component:$}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:B,components:{App:s},template:"<App/>"})},WrBL:function(e,t){},XGgV:function(e,t){},brnh:function(e,t){},q4GG:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.826233f53e7fc8e7c2dc.js.map